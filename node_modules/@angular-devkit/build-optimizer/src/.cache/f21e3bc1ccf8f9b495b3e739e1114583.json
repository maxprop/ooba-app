{"remainingRequest":"/Users/scottjoscelyne/Desktop/oasis/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js??ref--8-1!/Users/scottjoscelyne/Desktop/oasis/node_modules/formiojs/components/columns/Columns.js","dependencies":[{"path":"/Users/scottjoscelyne/Desktop/oasis/node_modules/formiojs/components/columns/Columns.js","mtime":1581861142214},{"path":"/Users/scottjoscelyne/Desktop/oasis/node_modules/cache-loader/dist/cjs.js","mtime":1571276078087},{"path":"/Users/scottjoscelyne/Desktop/oasis/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js","mtime":1571276072802}],"contextDependencies":[],"result":["\"use strict\";\n\nrequire(\"core-js/modules/es.symbol\");\n\nrequire(\"core-js/modules/es.symbol.description\");\n\nrequire(\"core-js/modules/es.symbol.iterator\");\n\nrequire(\"core-js/modules/es.array.concat\");\n\nrequire(\"core-js/modules/es.array.filter\");\n\nrequire(\"core-js/modules/es.array.from\");\n\nrequire(\"core-js/modules/es.array.iterator\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor\");\n\nrequire(\"core-js/modules/es.object.get-prototype-of\");\n\nrequire(\"core-js/modules/es.object.to-string\");\n\nrequire(\"core-js/modules/es.reflect.get\");\n\nrequire(\"core-js/modules/es.regexp.to-string\");\n\nrequire(\"core-js/modules/es.string.iterator\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nvar _NestedComponent2 = _interopRequireDefault(require(\"../nested/NestedComponent\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar ColumnsComponent =\n/*#__PURE__*/\nfunction (_NestedComponent) {\n  _inherits(ColumnsComponent, _NestedComponent);\n\n  _createClass(ColumnsComponent, [{\n    key: \"defaultSchema\",\n    get: function get() {\n      return ColumnsComponent.schema();\n    }\n  }, {\n    key: \"schema\",\n    get: function get() {\n      var _this2 = this;\n\n      var schema = _lodash.default.omit(_get(_getPrototypeOf(ColumnsComponent.prototype), \"schema\", this), 'components');\n\n      schema.columns = [];\n      this.eachComponent(function (component, index) {\n        _lodash.default.merge(component.component, _lodash.default.omit(_this2.component.columns[index], 'components'));\n\n        schema.columns.push(component.schema);\n      });\n\n      for (var i = this.components.length; i < this.component.columns.length; i++) {\n        schema.columns.push(this.component.columns[i]);\n      }\n\n      return schema;\n    }\n  }], [{\n    key: \"schema\",\n    value: function schema() {\n      for (var _len = arguments.length, extend = new Array(_len), _key = 0; _key < _len; _key++) {\n        extend[_key] = arguments[_key];\n      }\n\n      return _NestedComponent2.default.schema.apply(_NestedComponent2.default, [{\n        label: 'Columns',\n        key: 'columns',\n        type: 'columns',\n        columns: [{\n          components: [],\n          width: 6,\n          offset: 0,\n          push: 0,\n          pull: 0\n        }, {\n          components: [],\n          width: 6,\n          offset: 0,\n          push: 0,\n          pull: 0\n        }],\n        clearOnHide: false,\n        input: false,\n        tableView: false,\n        persistent: false,\n        autoAdjust: false,\n        hideOnChildrenHidden: false\n      }].concat(extend));\n    }\n  }, {\n    key: \"builderInfo\",\n    get: function get() {\n      return {\n        title: 'Columns',\n        icon: 'fa fa-columns',\n        group: 'layout',\n        documentation: 'http://help.form.io/userguide/#columns',\n        weight: 10,\n        schema: ColumnsComponent.schema()\n      };\n    }\n  }]);\n\n  function ColumnsComponent(component, options, data) {\n    var _this;\n\n    _classCallCheck(this, ColumnsComponent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ColumnsComponent).call(this, component, options, data));\n    _this.rows = [];\n    return _this;\n  }\n\n  _createClass(ColumnsComponent, [{\n    key: \"justifyRow\",\n\n    /**\n     * Justify columns width according to `this.gridSize`.\n     * @param {ColumnComponent[]} columns\n     * @return {*}\n     */\n    value: function justifyRow(columns) {\n      var visible = _lodash.default.filter(columns, 'visible');\n\n      var nbColumns = columns.length;\n      var nbVisible = visible.length;\n\n      if (nbColumns > 0 && nbVisible > 0) {\n        var w = Math.floor(this.gridSize / nbVisible);\n        var totalWidth = w * nbVisible;\n        var span = this.gridSize - totalWidth;\n\n        _lodash.default.each(visible, function (column) {\n          column.component.width = w;\n        }); // In case when row is not fully filled,\n        // extending last col to fill empty space.\n\n\n        _lodash.default.last(visible).component.width += span;\n\n        _lodash.default.each(visible, function (col) {\n          col.element.setAttribute('class', col.className);\n        });\n      }\n    }\n    /**\n     * Group columns in rows.\n     * @return {Array.<ColumnComponent[]>}\n     */\n\n  }, {\n    key: \"groupByRow\",\n    value: function groupByRow() {\n      var _this3 = this;\n\n      var initVal = {\n        stack: [],\n        rows: []\n      };\n\n      var width = function width(x) {\n        return x.component.width;\n      };\n\n      var result = _lodash.default.reduce(this.components, function (acc, next) {\n        var stack = [].concat(_toConsumableArray(acc.stack), [next]);\n\n        if (_lodash.default.sumBy(stack, width) <= _this3.gridSize) {\n          acc.stack = stack;\n          return acc;\n        } else {\n          acc.rows = [].concat(_toConsumableArray(acc.rows), [acc.stack]);\n          acc.stack = [next];\n          return acc;\n        }\n      }, initVal);\n\n      return _lodash.default.concat(result.rows, [result.stack]);\n    }\n  }, {\n    key: \"justify\",\n    value: function justify() {\n      _lodash.default.each(this.rows, this.justifyRow.bind(this));\n    }\n  }, {\n    key: \"addComponents\",\n    value: function addComponents(element, data, options, state) {\n      var _this4 = this;\n\n      var container = this.getContainer();\n      container.noDrop = true;\n\n      _lodash.default.each(this.component.columns, function (column, index) {\n        column.type = 'column'; //fix input: true issue for existent forms\n\n        column.input = false;\n        column.hideOnChildrenHidden = _this4.component.hideOnChildrenHidden;\n\n        var component = _this4.addComponent(column, container, _this4.data, null, null, state);\n\n        component.column = index;\n      });\n\n      this.rows = this.groupByRow();\n    }\n  }, {\n    key: \"checkConditions\",\n    value: function checkConditions(data) {\n      if (this.component.autoAdjust) {\n        var result = _get(_getPrototypeOf(ColumnsComponent.prototype), \"checkConditions\", this).call(this, data);\n\n        this.justify();\n        return result;\n      } else {\n        return _get(_getPrototypeOf(ColumnsComponent.prototype), \"checkConditions\", this).call(this, data);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.rows = [];\n      return _get(_getPrototypeOf(ColumnsComponent.prototype), \"destroy\", this).call(this);\n    }\n  }, {\n    key: \"className\",\n    get: function get() {\n      return \"row \".concat(_get(_getPrototypeOf(ColumnsComponent.prototype), \"className\", this));\n    }\n  }, {\n    key: \"gridSize\",\n    get: function get() {\n      return 12;\n    }\n    /** @type {number} */\n\n  }, {\n    key: \"nbVisible\",\n    get: function get() {\n      return _lodash.default.filter(this.components, 'visible').length;\n    }\n  }]);\n\n  return ColumnsComponent;\n}(_NestedComponent2.default);\n\nexports.default = ColumnsComponent;",null]}