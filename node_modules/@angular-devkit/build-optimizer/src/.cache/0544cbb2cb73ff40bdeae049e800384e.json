{"remainingRequest":"/Users/scottjoscelyne/Desktop/oasis/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js??ref--8-1!/Users/scottjoscelyne/Desktop/oasis/node_modules/angular-formio/manager/form/form.component.js","dependencies":[{"path":"/Users/scottjoscelyne/Desktop/oasis/node_modules/angular-formio/manager/form/form.component.js","mtime":499162500000},{"path":"/Users/scottjoscelyne/Desktop/oasis/node_modules/cache-loader/dist/cjs.js","mtime":1571276078087},{"path":"/Users/scottjoscelyne/Desktop/oasis/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js","mtime":1571276072802}],"contextDependencies":[],"result":["/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nimport { Component } from '@angular/core';\nimport { FormManagerService } from '../form-manager.service';\nimport { FormManagerConfig } from '../form-manager.config';\nimport { ActivatedRoute } from '@angular/router';\nimport { FormioAppConfig } from '../../formio.config';\nimport { BsModalService } from 'ngx-bootstrap/modal';\nimport { Formio } from 'formiojs';\nvar FormManagerFormComponent = /*@__PURE__*/ (function () {\n    function FormManagerFormComponent(service, route, appConfig, options, modalService) {\n        this.service = service;\n        this.route = route;\n        this.appConfig = appConfig;\n        this.options = options;\n        this.modalService = modalService;\n        this.choice = 'isUrl';\n        this.goTo = '';\n    }\n    /**\n     * @return {?}\n     */\n    FormManagerFormComponent.prototype.ngOnInit = /**\n     * @return {?}\n     */\n        function () {\n            var _this = this;\n            this.route.params.subscribe((function (params) {\n                _this.formio = new Formio(_this.appConfig.appUrl + \"/form/\" + params.id);\n                _this.formio.loadForm().then((function (form) {\n                    _this.projectId = form.project;\n                    _this.pathName = form.path;\n                    _this.getShareUrl();\n                }));\n                _this.service.reset(_this.route);\n            }));\n        };\n    /**\n     * @return {?}\n     */\n    FormManagerFormComponent.prototype.getShareUrl = /**\n     * @return {?}\n     */\n        function () {\n            /** @type {?} */\n            var src = this.appConfig.appUrl + '/' + this.pathName;\n            this.shareUrl = this.options.viewer + \"/#/?src=\" + encodeURIComponent(src);\n            return this.shareUrl;\n        };\n    /**\n     * @param {?} content\n     * @return {?}\n     */\n    FormManagerFormComponent.prototype.openEmbed = /**\n     * @param {?} content\n     * @return {?}\n     */\n        function (content) {\n            /** @type {?} */\n            var goto = '';\n            if (this.goTo) {\n                goto += \"if (d && d.formSubmission && d.formSubmission._id) { window.location.href = \\\"\" + this.goTo + \"\\\";}\";\n            }\n            /** @type {?} */\n            var embedCode = '<script type=\"text/javascript\">';\n            embedCode += '(function a(d, w, u) {';\n            embedCode += 'var h = d.getElementsByTagName(\"head\")[0];';\n            embedCode += 'var s = d.createElement(\"script\");';\n            embedCode += 's.type = \"text/javascript\";';\n            embedCode += 's.src = \"' + this.options.viewer + '/assets/lib/seamless/seamless.parent.min.js\";';\n            embedCode += 's.onload = function b() {';\n            embedCode += 'var f = d.getElementById(\"formio-form-' + this.formio.formId + '\");';\n            embedCode += 'if (!f || (typeof w.seamless === u)) {';\n            embedCode += 'return setTimeout(b, 100);';\n            embedCode += '}';\n            embedCode += 'w.seamless(f, {fallback:false}).receive(function(d, e) {' + goto + '});';\n            embedCode += '};';\n            embedCode += 'h.appendChild(s);';\n            embedCode += '})(document, window);';\n            embedCode += '</script>';\n            embedCode += '<iframe id=\"formio-form-' + this.formio.formId + '\" ';\n            embedCode += 'style=\"width:100%;border:none;\" height=\"800px\" src=\"' + this.shareUrl + '&iframe=1\"></iframe>';\n            this.embedCode = embedCode;\n            this.modalRef = this.modalService.show(content, { class: 'modal-lg' });\n        };\n    /**\n     * @param {?} string\n     * @return {?}\n     */\n    FormManagerFormComponent.prototype.choices = /**\n     * @param {?} string\n     * @return {?}\n     */\n        function (string) {\n            this.choice = string;\n        };\n    return FormManagerFormComponent;\n}());\nexport { FormManagerFormComponent };\nif (false) {\n    /** @type {?} */\n    FormManagerFormComponent.prototype.choice;\n    /** @type {?} */\n    FormManagerFormComponent.prototype.embedCode;\n    /** @type {?} */\n    FormManagerFormComponent.prototype.formio;\n    /** @type {?} */\n    FormManagerFormComponent.prototype.shareUrl;\n    /** @type {?} */\n    FormManagerFormComponent.prototype.projectId;\n    /** @type {?} */\n    FormManagerFormComponent.prototype.pathName;\n    /** @type {?} */\n    FormManagerFormComponent.prototype.goTo;\n    /** @type {?} */\n    FormManagerFormComponent.prototype.modalRef;\n    /** @type {?} */\n    FormManagerFormComponent.prototype.service;\n    /** @type {?} */\n    FormManagerFormComponent.prototype.route;\n    /** @type {?} */\n    FormManagerFormComponent.prototype.appConfig;\n    /** @type {?} */\n    FormManagerFormComponent.prototype.options;\n    /**\n     * @type {?}\n     * @private\n     */\n    FormManagerFormComponent.prototype.modalService;\n}\n",null]}