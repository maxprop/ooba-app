{"remainingRequest":"/Users/scottjoscelyne/Desktop/oasis/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js??ref--8-1!/Users/scottjoscelyne/Desktop/oasis/node_modules/angular-formio/manager/view/view.component.js","dependencies":[{"path":"/Users/scottjoscelyne/Desktop/oasis/node_modules/angular-formio/manager/view/view.component.js","mtime":499162500000},{"path":"/Users/scottjoscelyne/Desktop/oasis/node_modules/cache-loader/dist/cjs.js","mtime":1571276078087},{"path":"/Users/scottjoscelyne/Desktop/oasis/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js","mtime":1571276072802}],"contextDependencies":[],"result":["/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nimport { Component, EventEmitter } from '@angular/core';\nimport { FormManagerConfig } from '../form-manager.config';\nimport { FormManagerService } from '../form-manager.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { FormioAuthService } from '../../auth/auth.service';\nimport { Formio } from 'formiojs';\nvar FormManagerViewComponent = /*@__PURE__*/ (function () {\n    function FormManagerViewComponent(service, router, route, config, auth) {\n        this.service = service;\n        this.router = router;\n        this.route = route;\n        this.config = config;\n        this.auth = auth;\n        this.onSuccess = new EventEmitter();\n        this.onError = new EventEmitter();\n        this.renderOptions = {\n            saveDraft: this.config.saveDraft\n        };\n        this.currentForm = null;\n        this.submission = { data: {} };\n    }\n    /**\n     * @return {?}\n     */\n    FormManagerViewComponent.prototype.ngOnInit = /**\n     * @return {?}\n     */\n        function () {\n            var _this = this;\n            // Reset the formio service to this form only.\n            this.service.formio = new Formio(this.service.formio.formUrl);\n            this.service.loadForm().then((function (form) {\n                _this.currentForm = form;\n            }));\n        };\n    /**\n     * @param {?} submission\n     * @return {?}\n     */\n    FormManagerViewComponent.prototype.onSubmit = /**\n     * @param {?} submission\n     * @return {?}\n     */\n        function (submission) {\n            var _this = this;\n            this.submission.data = submission.data;\n            this.submission.state = 'complete';\n            this.service.formio.saveSubmission(this.submission).then((function (saved) {\n                _this.onSuccess.emit();\n                _this.router.navigate(['../', 'submission', saved._id], { relativeTo: _this.route });\n            })).catch((function (err) { return _this.onError.emit(err); }));\n        };\n    return FormManagerViewComponent;\n}());\nexport { FormManagerViewComponent };\nif (false) {\n    /** @type {?} */\n    FormManagerViewComponent.prototype.submission;\n    /** @type {?} */\n    FormManagerViewComponent.prototype.currentForm;\n    /** @type {?} */\n    FormManagerViewComponent.prototype.renderOptions;\n    /** @type {?} */\n    FormManagerViewComponent.prototype.onSuccess;\n    /** @type {?} */\n    FormManagerViewComponent.prototype.onError;\n    /** @type {?} */\n    FormManagerViewComponent.prototype.service;\n    /** @type {?} */\n    FormManagerViewComponent.prototype.router;\n    /** @type {?} */\n    FormManagerViewComponent.prototype.route;\n    /** @type {?} */\n    FormManagerViewComponent.prototype.config;\n    /** @type {?} */\n    FormManagerViewComponent.prototype.auth;\n}\n",null]}